<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Edun Joshua">
<meta name="dcterms.date" content="2024-01-20">

<title>Chamber of (data) secrets - Aqua Vista College Database</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script async="" src="https://www.googletagmanager.com/gtag/js?id=G-X2C4499YPY"></script>

<script type="text/javascript">

window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-X2C4499YPY', { 'anonymize_ip': true});
</script>


<link rel="stylesheet" href="../../styles.css">
<meta property="og:title" content="Chamber of (data) secrets - Aqua Vista College Database">
<meta property="og:description" content="A comprehensive case study in database design">
<meta property="og:image" content="https://joshuaolubori.onrender.com/posts/2024-01-20_Aqua-Vista/Boscombe Beach University (Logical) v2.jpeg">
<meta property="og:site-name" content="Chamber of (data) secrets">
<meta name="twitter:title" content="Chamber of (data) secrets - Aqua Vista College Database">
<meta name="twitter:description" content="A comprehensive case study in database design">
<meta name="twitter:image" content="https://joshuaolubori.onrender.com/posts/2024-01-20_Aqua-Vista/Boscombe Beach University (Logical) v2.jpeg">
<meta name="twitter:creator" content="@olubori_joshua">
<meta name="twitter:card" content="summary_large_image">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../index.html" rel="" target="">
 <span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../posts_index.html" rel="" target="">
 <span class="menu-text">Posts</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../about.html" rel="" target="">
 <span class="menu-text">About</span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools ms-auto">
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">Aqua Vista College Database</h1>
            <p class="subtitle lead">A comprehensive case study in database design</p>
                                <div class="quarto-categories">
                <div class="quarto-category">SQL</div>
                <div class="quarto-category">data engineering</div>
                <div class="quarto-category">database design and management</div>
              </div>
                  </div>
  </div>
    
  
  <div class="quarto-title-meta">

      <div>
      <div class="quarto-title-meta-heading">Author</div>
      <div class="quarto-title-meta-contents">
               <p>Edun Joshua </p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">January 20, 2024</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#task-introduction" id="toc-task-introduction" class="nav-link active" data-scroll-target="#task-introduction">Task Introduction</a></li>
  <li><a href="#conceptual-erd" id="toc-conceptual-erd" class="nav-link" data-scroll-target="#conceptual-erd">Conceptual ERD</a></li>
  <li><a href="#logical-design" id="toc-logical-design" class="nav-link" data-scroll-target="#logical-design">Logical Design</a></li>
  <li><a href="#design-justifications" id="toc-design-justifications" class="nav-link" data-scroll-target="#design-justifications">Design Justifications</a></li>
  <li><a href="#indication-of-report-creation" id="toc-indication-of-report-creation" class="nav-link" data-scroll-target="#indication-of-report-creation">Indication of report creation</a>
  <ul class="collapse">
  <li><a href="#identifying-the-sessions-most-students-attended-out-of-all-subjects-delivered-by-an-external-company" id="toc-identifying-the-sessions-most-students-attended-out-of-all-subjects-delivered-by-an-external-company" class="nav-link" data-scroll-target="#identifying-the-sessions-most-students-attended-out-of-all-subjects-delivered-by-an-external-company">Identifying the sessions most students attended out of all subjects delivered by an external company</a></li>
  <li><a href="#identifying-the-unit-with-the-most-sessions-delivered-by-a-company-on-any-subject" id="toc-identifying-the-unit-with-the-most-sessions-delivered-by-a-company-on-any-subject" class="nav-link" data-scroll-target="#identifying-the-unit-with-the-most-sessions-delivered-by-a-company-on-any-subject">Identifying the unit with the most sessions delivered by a company on any subject</a></li>
  </ul></li>
  <li><a href="#identifying-the-academic-staff-with-the-most-research-interests" id="toc-identifying-the-academic-staff-with-the-most-research-interests" class="nav-link" data-scroll-target="#identifying-the-academic-staff-with-the-most-research-interests">Identifying The Academic staff with the most Research Interests</a></li>
  <li><a href="#data-accuracy-strategy" id="toc-data-accuracy-strategy" class="nav-link" data-scroll-target="#data-accuracy-strategy">Data Accuracy Strategy</a>
  <ul class="collapse">
  <li><a href="#data-accuracy-strategy-for-institutional-research-and-teaching-analysis" id="toc-data-accuracy-strategy-for-institutional-research-and-teaching-analysis" class="nav-link" data-scroll-target="#data-accuracy-strategy-for-institutional-research-and-teaching-analysis">Data Accuracy Strategy for Institutional Research and Teaching Analysis:</a></li>
  <li><a href="#data-accuracy-strategy-for-enhancing-student-attendance-and-course-insights" id="toc-data-accuracy-strategy-for-enhancing-student-attendance-and-course-insights" class="nav-link" data-scroll-target="#data-accuracy-strategy-for-enhancing-student-attendance-and-course-insights">Data Accuracy Strategy for Enhancing Student Attendance and Course Insights</a></li>
  </ul></li>
  <li><a href="#sql-create-statements" id="toc-sql-create-statements" class="nav-link" data-scroll-target="#sql-create-statements">SQL CREATE statements</a></li>
  <li><a href="#conclusion" id="toc-conclusion" class="nav-link" data-scroll-target="#conclusion">Conclusion</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">




<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="Boscombe Timeline Diagram Graph.png" class="img-fluid figure-img"></p>
</figure>
</div>
<section id="task-introduction" class="level2">
<h2 class="anchored" data-anchor-id="task-introduction">Task Introduction</h2>
<p>Based on the case study (interview scripts and required reports) at the end of this brief, provide the following:</p>
<ul>
<li><p><strong>Conceptual ERD with justifications of design choices</strong></p></li>
<li><p><strong>Logical Design utilising skeleton tables</strong></p>
<ul>
<li>Primary Keys are underlined, and Foreign Keys have an asterisk next to them. e.g.&nbsp;table_name(table_id, table_attribute, other_table_id*)</li>
</ul></li>
<li><p><strong>Indication of report creation</strong></p>
<ul>
<li>Indicate which tables from your design would be used, and what are the common values.</li>
</ul></li>
<li><p><strong>Outline of data accuracy strategy</strong></p>
<ul>
<li>What concrete measures would you take to ensure data can be analysed to aid prediction?</li>
</ul></li>
</ul>
<p><u><strong>To achieve a distinction:</strong></u></p>
<ul>
<li><p>The Conceptual ERD fully covers the case study’s entities and relationships. There are justifications provided for the design choices based on the case study’s statements. The justifications are thought through, concrete and well-argued.</p></li>
<li><p>The Logical Design is in the required format, and it is directly derived from and related to the produced Conceptual ERD. Where design choices needed to be taken, they are clearly indicated and justified. Problematic relationships, such as many-to-many relationships have been resolved correctly.</p></li>
<li><p>A clear indication which entities/tables had to be included to produce the required reports, and which matching fields were used.</p></li>
<li><p>A mature and concrete strategy to ensure data accuracy is provided which is relevant for the given case study.</p></li>
</ul>
</section>
<section id="conceptual-erd" class="level2">
<h2 class="anchored" data-anchor-id="conceptual-erd">Conceptual ERD</h2>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="https://drive.google.com/file/d/1GN0GldyXjL1rbZR1xtUoeO48Zm1_WF1B/view?usp=sharing"><img src="Boscombe Beach University (Conceptual) v3.jpeg" class="img-fluid figure-img"></a></p>
<figcaption class="figure-caption">Aqua Vista College Database - Conceptual ERD. (Click to view full image online)</figcaption>
</figure>
</div>
</section>
<section id="logical-design" class="level2">
<h2 class="anchored" data-anchor-id="logical-design">Logical Design</h2>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="https://drive.google.com/file/d/13HxRuYCcAWOEFdGclFkyBaL3onfc-kpu/view?usp=sharing"><img src="Boscombe Beach University (Logical) v2.jpeg" class="img-fluid figure-img"></a></p>
<figcaption class="figure-caption">Aqua Vista College - Logical Design. (Click to view full image online)</figcaption>
</figure>
</div>
</section>
<section id="design-justifications" class="level2">
<h2 class="anchored" data-anchor-id="design-justifications">Design Justifications</h2>
<section id="office-allocation" class="level4">
<h4 class="anchored" data-anchor-id="office-allocation">Office Allocation:</h4>
<p>Implementing a dedicated “<code>Office</code>” entity and bridge table for academic staff assignments unlocks the following advantages: <strong>flexibility</strong> to track office occupancy dynamically with start and end dates, <strong>data efficiency</strong> by avoiding redundancy through centralized office details and shared/single occupancy flags, and <strong>clarity</strong> by decoupling physical locations from reporting structures and staff attributes, leading to a more interpretable model.</p>
</section>
<section id="line-management" class="level4">
<h4 class="anchored" data-anchor-id="line-management">Line Management</h4>
<p>Representing the Academic Staff reporting structure within the university is elegantly achieved through a self-referencing <code>AcademicStaff</code> entity. This leverages a natural one-to-one relationship referencing the line_manager_id attribute, allowing each staff member to have a designated manager while managers oversee multiple staff as needed. This avoids the redundancy of a dedicated line manager table, maintaining streamlined queries and ensuring consistent data. The self-referencing approach eliminates the need for additional joins, keeping the model clear and easily traversable.</p>
</section>
<section id="resolving-the-many-to-many-relationship-between-academicstaff-and-unit" class="level4">
<h4 class="anchored" data-anchor-id="resolving-the-many-to-many-relationship-between-academicstaff-and-unit">Resolving the many-to-many relationship between AcademicStaff and Unit</h4>
<p>The Head of Department interview revealed that: some academics teach several units, some none, and units can have multiple instructors. A dedicated bridge table elegantly untangles this many-to-many relationship.</p>
<p>Beyond capturing the current teaching relationships, this design offer these benefits:</p>
<ul>
<li>Dynamic tracking: Start and end dates record teaching history, combating the “slowly changing dimensions” issue and aiding analysis of past assignments.</li>
<li>Future-proof scalability: Easily extend the model to track different appointment types or add new analytical data.</li>
<li>Efficient queries: The bridge table centralizes teaching data, making queries related to instructors or units much faster than sifting through individual records.</li>
</ul>
<p>This robust design allows valuable insights for analysis, reporting, and career progression tracking, while laying a flexible foundation for future changes.</p>
</section>
<section id="modelling-academic-staffs-research-interests" class="level4">
<h4 class="anchored" data-anchor-id="modelling-academic-staffs-research-interests">Modelling Academic Staff’s Research Interests</h4>
<p>Following the Head of Department’s emphasis - “all academic staff members are required to record their research interests” - research interests are modeled as a mandatory one-to-many relationship with academic staff. Every staff member must actively record their research interests, and this relationship is reflected by the Crow’s Foot notation in the relationship between the entities.</p>
</section>
<section id="subjects-and-units" class="level4">
<h4 class="anchored" data-anchor-id="subjects-and-units">Subjects and Units</h4>
<p>A many-to-many relationship exists between these two entities, as outlined in the requirements derived from the interview with the Head of Department. This relationship is effectively resolved by a bridge table, aligning with the fact that a <code>Unit</code> may encompass multiple <code>Subjects</code>, and conversely, a <code>Subject</code> can be associated with multiple <code>Units</code>.</p>
<p>The Industry Liaison Lead validates that subjects are open to proposals from companies. To address this requirement, a <em>proposed_by_company</em> foreign key field is incorporated, establishing a connection with the Industry Partner entity. This ensures that the relationship between subjects and proposing companies is appropriately represented in the database structure.</p>
</section>
<section id="course-enrollment" class="level4">
<h4 class="anchored" data-anchor-id="course-enrollment">Course Enrollment</h4>
<p>The interview underscores that students dedicate themselves to a single course at a time, establishing a one-to-one relationship between a student and their presently enrolled course. Although students eventually undertake multiple courses throughout their program, this is done sequentially, indicating that they are not concurrently enrolled in several courses.</p>
<p>This design facilitates the historical tracking of student enrollment. While the primary focus is on the current course, there arises a necessity to trace past courses undertaken by a student. Introducing a bridge table offers an efficient means of storing and retrieving historical enrollment data without cluttering the <code>Student</code> or <strong><code>Course</code></strong> entities.</p>
<p>The bridge table offers flexibility to manage potential scenarios such as course changes or leaves of absence, ensuring a precise record of all courses a student has enrolled in during their program. The <em>course_completion_status</em> attribute enables this record-keeping through a check constraint represented as an ENUM datatype with values like “Completed,” “Ongoing,” and “Withdrawn.”</p>
<p>Additional attributes may be incorporated into the bridge table for each enrollment record, including start and end dates, course completion status, grades, or even reasons for withdrawal if applicable. This supplementary information proves valuable for subsequent analysis and reporting purposes.</p>
</section>
<section id="unit-attendance-and-session" class="level4">
<h4 class="anchored" data-anchor-id="unit-attendance-and-session">Unit, Attendance and Session</h4>
<p>This approach incorporates a bridge table between students and sessions to record attendance. Reflecting the Head of Department’s statement that “A session can be a lecture, seminar, or lab associated with a unit,” an ENUM constraint on the <em>session_type</em> attribute ensures adherence to these three specified values.</p>
<p>Moreover, as per the emphasis on sessions potentially being part of extra-curricular events with external speakers, the design introduces a distinct entity, “<em>extra-curricular_event</em>,” to capture this information. The relationship is non-mandatory, and the Crow’s Foot notation appropriately signifies this flexibility.</p>
<p>Given that units encompass sessions and sessions relate to subjects, the design establishes a connection between the <em>session_id</em> attribute and the <em>subject_id</em> attribute through the <code>unit_subject</code> bridge table. This alignment is logical, considering each unit-subject combination functions as an independent entity, allowing for variations in their respective sessions.</p>
<p>To address the requirement that a subject may not yet be part of any unit or session, the presence of an <em>approval_status</em> ENUM attribute effectively manages this condition.</p>
</section>
<section id="industrial-partnership" class="level4">
<h4 class="anchored" data-anchor-id="industrial-partnership">Industrial Partnership</h4>
<p>The interview with the Industrial Liaison Lead sheds light on the interaction between the school and industry partners. Industrial partners are embodied in an <code>Industry Partner</code> entity, contributing through the delivery of <code>Talks</code> on specific subjects. This is depicted as a one-to-many optional relationship with the <code>Talks</code> entity, along with a one-to-one relationship between <code>Talks</code> and <code>Subject</code>.</p>
<p>In the discussion, the official affirms that companies can propose multiple subjects, and conversely, a subject can be proposed by multiple companies, establishing a resolved many-to-many relationship through the <code>industry_partners_subject</code> bridge table, linking Industry <code>Partner</code> to <code>Subject</code>. This bridge table serves to capture additional proposal details, including the proposal date and description.</p>
<p>Recognizing that not all subjects are covered by industry partners, an optional relationship is indicated between <code>subject</code> and <code>industry_partner_subject</code> using Crow’s Foot notation. The <em>subject_type</em> has an ENUM type, offering values “traditional” and “proposed.”</p>
<p>The <em>subject_type</em> attribute distinguishes a subject’s origin, marking it as either proposed by an industry partner or part of Aqua Vista’s traditional curriculum.</p>
</section>
<section id="talks-and-activity" class="level4">
<h4 class="anchored" data-anchor-id="talks-and-activity">Talks and Activity</h4>
<p>Talks may encompass various activities, and it is affirmed that recording these activities is crucial. As a solution, an activity entity has been established, featuring a <em>talk_id</em> foreign key referencing the Talks entity. Each talk or activity is associated with a designated contact person, fulfilling this requirement through the inclusion of a <em>contact_person_phone</em> attribute that stores the contact information of the designated person. I could not confirm if the contact person is a staff of the school, otherwise, I would relate this attribute to the academic_staff entity.</p>
<p>Recognizing that not all partners engage in delivering talks, the model accommodates this by incorporating an optional one-to-many relationship between industry partners and talks. This ensures flexibility in representing instances where some industry partners may not be involved in delivering talks.</p>
</section>
</section>
<section id="indication-of-report-creation" class="level2">
<h2 class="anchored" data-anchor-id="indication-of-report-creation">Indication of report creation</h2>
<section id="identifying-the-sessions-most-students-attended-out-of-all-subjects-delivered-by-an-external-company" class="level3">
<h3 class="anchored" data-anchor-id="identifying-the-sessions-most-students-attended-out-of-all-subjects-delivered-by-an-external-company">Identifying the sessions most students attended out of all subjects delivered by an external company</h3>
<p><strong>Tables:</strong></p>
<ol type="1">
<li><strong>Attendance:</strong> Tracks student participation, linking <strong>student_id</strong> to <strong>session_id</strong>.</li>
<li><strong>Session:</strong> Holds information about individual sessions, including the associated <strong>unit_subject_id</strong>.</li>
<li><strong>Unit_Subject:</strong> Bridges sessions and subjects, connecting <strong>session_id</strong> to <strong>unit_subject_id</strong>.</li>
<li><strong>Subject:</strong> Captures subject details, including a unique <strong>subject_id</strong> and a “<strong>subject_type</strong>” flag indicating external involvement.</li>
</ol>
<p><strong>Common Values:</strong></p>
<ul>
<li><strong>SessionID:</strong> Unique identifier for each session, linking <code>Attendance</code> and <code>Session</code> data.</li>
<li><strong>UnitSubjectID:</strong> Unique identifier for each <code>Unit-Subject</code>, acting as the bridge between <code>Session</code> and <code>Subject</code> tables.</li>
<li><strong>SubjectID:</strong> Unique identifier for each <code>Subject</code>, enabling filtering for those externally proposed in the <code>Subject</code> table.</li>
</ul>
<p><strong>Methodology:</strong></p>
<ol type="1">
<li><strong>Filter Sessions:</strong> Using the <code>Subject</code> table’s “subject_type” flag as a filter, I select only sessions linked to subjects tagged as “<em>External</em>”</li>
<li><strong>Join and Aggregate:</strong> By joining Attendance, Session, Unit_Subject_Junction, and Subject tables on their respective common values, we can count the number of students attending each session.</li>
<li><strong>Identify Maximum Attendance:</strong> Finally, we sort the aggregated data by student attendance in descending order and locate the session with the highest attendance count, pinpointing the most popular session delivered by an external company.</li>
</ol>
<p>The following SQL query will deliver the report:</p>
<blockquote class="blockquote">
<p><code>SELECT s.SessionID, COUNT(a.StudentID) AS AttendanceCount</code></p>
<p><code>FROM Attendance a JOIN Session s ON a.SessionID = s.SessionID</code></p>
<p><code>JOIN Unit_Subject_Junction usj ON s.UnitSubjectID = usj.UnitSubjectID</code></p>
<p><code>JOIN Subject sub ON usj.SubjectID = sub.SubjectID</code></p>
<p><code>WHERE sub.subject_type = "External"GROUP BY s.SessionID ORDER BY AttendanceCount DESC LIMIT 1;</code></p>
</blockquote>
</section>
<section id="identifying-the-unit-with-the-most-sessions-delivered-by-a-company-on-any-subject" class="level3">
<h3 class="anchored" data-anchor-id="identifying-the-unit-with-the-most-sessions-delivered-by-a-company-on-any-subject">Identifying the unit with the most sessions delivered by a company on any subject</h3>
<p>To reveal the unit hosting the most sessions delivered by companies across all subjects, the following entities are identified.</p>
<p><strong>Tables:</strong></p>
<ol type="1">
<li><p><strong>Session</strong>: Captures session details, including the associated <strong>unit_subject_id</strong>.</p></li>
<li><p><strong>Unit_Subject</strong>: Bridges sessions to units and subjects, connecting <strong>session_id</strong> to <strong>unit_subject_id</strong> and <strong>subject_id</strong>.</p></li>
<li><p><strong>Unit</strong>: Holds unit information, including the unique <strong>unit_id</strong>.</p></li>
<li><p><strong>Subject</strong>: Stores subject details, including the <strong>subject_type</strong> flag indicating company involvement.</p></li>
</ol>
<p><strong>Common Values:</strong></p>
<ol type="1">
<li><strong>UnitSubjectID</strong>: Unique identifier for each unit-subject, linking <code>Session</code> and <code>Unit_Subject</code> tables.</li>
<li><strong>UnitID</strong>: Unique identifier for each Unit, connecting <code>Unit_Subject</code> and <code>Unit</code> tables.</li>
<li><strong>SubjectID</strong>: Unique identifier for each subject, enabling filtering for those marked as externally proposed in the Subject table.</li>
</ol>
<p><strong>Methodology:</strong></p>
<ol type="1">
<li><p><strong>Filter Company-Delivered Sessions</strong>: Employ the <code>WHERE</code> clause to select only sessions linked to subjects where the <strong>subject_type</strong> flag is “Exernal”. This ensures we focus on sessions originating from external partnerships.</p></li>
<li><p><strong>Join and Aggregate</strong>: By joining <code>Session</code>, <code>Unit_Subject</code>, and <code>Unit</code> tables on their respective common values, we associate sessions with their corresponding units and count the total number of sessions per unit.</p></li>
<li><p><strong>Identify Top Unit</strong>: We order the aggregated data by session count in descending order. The unit at the top boasts the highest number of sessions delivered by a company, making it the champion of external collaborations.</p></li>
</ol>
<p>The following SQL query will deliver the report:</p>
<blockquote class="blockquote">
<p><code>SELECT u.unit_id, u.unit_name, COUNT(s.session_id) AS session_count</code></p>
<p><code>FROM Session s JOIN Unit_Subject_Junction usj ON s.unit_subject_id = usj.unit_subject_id</code></p>
<p><code>JOIN Unit u ON usj.unit_id = u.unit_id</code></p>
<p><code>JOIN Subject sub ON usj.subject_id = sub.subject_id</code></p>
<p><code>WHERE sub.subject_type = "External"</code></p>
<p><code>GROUP BY u.unit_id, u.unit_name ORDER BY session_count DESC LIMIT 1;</code></p>
</blockquote>
</section>
</section>
<section id="identifying-the-academic-staff-with-the-most-research-interests" class="level2">
<h2 class="anchored" data-anchor-id="identifying-the-academic-staff-with-the-most-research-interests">Identifying The Academic staff with the most Research Interests</h2>
<p>To uncover the academic staff member with the most diverse research interests within your Aqua Vista College, the database design offers the insights through two tables:</p>
<p><strong>Tables:</strong></p>
<ul>
<li><strong>academic_staff:</strong> This table holds core information about staff members, including their unique <code>staff_id</code> and <code>first_name</code>.</li>
<li><strong>research_interests:</strong> This table captures details about staff members’ research pursuits, linking them to individual staff through the <code>staff_id</code> and providing descriptive <code>research_title</code> information.</li>
</ul>
<p><strong>The Bridge: Shared Values:</strong></p>
<p><code>staff_id</code>. links these 2 tables together. This unique identifier, present in both tables, allows to seamlessly connect each staff member with their respective research interests.</p>
<p><strong>Methodology:</strong></p>
<ol type="1">
<li><strong>Connecting the Dots:</strong> We’ll employ a JOIN operation to merge the <code>academic_staff</code> and <code>research_interests</code> tables on the <code>staff_id</code> column. This creates a unified view where each staff member is accompanied by their research areas.</li>
<li><strong>Quantifying Passion:</strong> For each staff member, we’ll utilize the <code>COUNT()</code> function to determine the total number of research interests listed in the <code>research_interests</code> table associated with their <code>staff_id</code>. This effectively quantifies their research diversity.</li>
<li><strong>Crowning the Champion:</strong> Finally, we’ll order the combined data by the <code>count</code> of research interests in descending order. The staff member at the top, boasting the highest count, emerges as the champion of diversified research pursuits within your institution.</li>
</ol>
<p>The following SQL query will deliver the report:</p>
<blockquote class="blockquote">
<p><code>SELECT as.staff_id, as.first_name, COUNT(ri.research_id) AS research_interest_count</code></p>
<p><code>FROM academic_staff as JOIN research_interests ri ON as.staff_id = ri.staff_id</code></p>
<p><code>GROUP BY as.staff_id, as.first_name</code></p>
<p><code>ORDER BY research_interest_count DESC LIMIT 1;</code></p>
</blockquote>
</section>
<section id="data-accuracy-strategy" class="level2">
<h2 class="anchored" data-anchor-id="data-accuracy-strategy">Data Accuracy Strategy</h2>
<section id="data-accuracy-strategy-for-institutional-research-and-teaching-analysis" class="level3">
<h3 class="anchored" data-anchor-id="data-accuracy-strategy-for-institutional-research-and-teaching-analysis">Data Accuracy Strategy for Institutional Research and Teaching Analysis:</h3>
<p><strong><em>Objective: Establish the database reliably for analyzing research interests, teaching involvement, and other key academic elements.</em></strong></p>
<p><strong>Concrete Measures:</strong></p>
<p>Enum Constraints for Research Interests: Apply ENUM constraints, such as for the “category” field in the academic_staff table, restricting values to a predefined set (“lecturers” or “demonstrators”). Integrate drop-down menus in the front-end to facilitate user selection, minimizing ambiguity and ensuring consistency.</p>
<p>Teaching Units: Implement lookups or autocomplete features for existing units in the front-end, preventing typographical errors and eliminating duplicate entries during data entry.</p>
<p>Enforce Temporal Validity in Office Allocation: Enact data integrity rules to prohibit overlapping occupancy periods or exceeding office capacity, enhancing accuracy in office allocation records.</p>
<p>Ensure Acyclic Relationships: Incorporate checks to validate acyclic relationships within the line-management hierarchy, preventing the formation of circular dependencies and ensuring a transparent organizational structure.</p>
<p>Cascade Deletion: Employ cascading actions for the line_manager_id foreign key. By using “ON DELETE CASCADE” and “ON UPDATE CASCADE” in SQL, ensure that changes to staff members cascade appropriately, maintaining referential integrity.</p>
<p>Periodic Audits: Conduct routine data consistency checks to identify and rectify duplicates or incomplete entries, enhancing overall data accuracy.</p>
<p>Random Sampling: Implement manual verification through random sampling of research interests and teaching assignments against employee resumes or course schedules, providing an additional layer of accuracy validation.</p>
<p>Peer Review: Foster departmental reviews of research areas and unit affiliations to encourage collective scrutiny and improvement of data accuracy.</p>
</section>
<section id="data-accuracy-strategy-for-enhancing-student-attendance-and-course-insights" class="level3">
<h3 class="anchored" data-anchor-id="data-accuracy-strategy-for-enhancing-student-attendance-and-course-insights">Data Accuracy Strategy for Enhancing Student Attendance and Course Insights</h3>
<p><strong><em>Objective: Establish a foundation of reliable data to facilitate accurate attendance tracking, course optimization, and predictive student success analysis.</em></strong></p>
<p><strong>Concrete Measures:</strong></p>
<p>Course and Unit Information: Use ENUM constraint to ensure that data entered into each field adheres to predefined standards. For instance, enforce constraints on fields like attendance_status to accept only valid values (e.g., “present,” “absent”).</p>
<p>Implement validation rules to prevent duplicate entries and maintain course levels within defined ranges.</p>
<p>Attendance Data: Use foreign key constraints in the physical model to restrict attendance entry to valid student IDs, session IDs, and dates, preventing errors and inconsistencies.</p>
<p>Session Details: Ensure temporal validity (i.e.&nbsp;using the start_date and end_date attributes) by designing checks in the physical model to avoid conflicts and maintain data integrity.</p>
</section>
</section>
<section id="sql-create-statements" class="level2">
<h2 class="anchored" data-anchor-id="sql-create-statements">SQL CREATE statements</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode sql code-with-copy"><code class="sourceCode sql"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="kw">CREATE</span> <span class="kw">TABLE</span> course (</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>  course_id <span class="dt">INTEGER</span> <span class="kw">PRIMARY</span> <span class="kw">KEY</span> <span class="kw">GENERATED</span> <span class="kw">BY</span> <span class="kw">DEFAULT</span> <span class="kw">AS</span> IDENTITY,</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>  course_title <span class="dt">VARCHAR</span>(<span class="dv">255</span>),</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>  course_name <span class="dt">VARCHAR</span>(<span class="dv">255</span>),</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>  course_level <span class="dt">VARCHAR</span>(<span class="dv">10</span>)</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>);</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="kw">CREATE</span> <span class="kw">TABLE</span> student (</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>  student_id <span class="dt">INTEGER</span> <span class="kw">PRIMARY</span> <span class="kw">KEY</span> <span class="kw">GENERATED</span> <span class="kw">BY</span> <span class="kw">DEFAULT</span> <span class="kw">AS</span> IDENTITY,</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>  first_name <span class="dt">VARCHAR</span>(<span class="dv">255</span>),</span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>  last_name <span class="dt">VARCHAR</span>(<span class="dv">255</span>),</span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>  date_of_birth <span class="dt">DATE</span>,</span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a>  email <span class="dt">VARCHAR</span>(<span class="dv">255</span>),</span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a>  phone_number <span class="dt">INTEGER</span></span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a>);</span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a><span class="kw">CREATE</span> <span class="kw">TABLE</span> course_enrolment (</span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a>  student_id <span class="dt">INTEGER</span> <span class="kw">PRIMARY</span> <span class="kw">KEY</span> <span class="kw">GENERATED</span> <span class="kw">BY</span> <span class="kw">DEFAULT</span> <span class="kw">AS</span> IDENTITY,</span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a>  course_id <span class="dt">INTEGER</span>,</span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a>  course_completion_status ENUM(Completed, course_enrolment),</span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a>  grade ENUM(<span class="ot">"A"</span>, <span class="ot">"B"</span>, <span class="ot">"C"</span>, <span class="ot">"D"</span>, <span class="ot">"E"</span>, <span class="ot">"F"</span>),</span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true" tabindex="-1"></a>  phone_number <span class="dt">INTEGER</span>,</span>
<span id="cb1-22"><a href="#cb1-22" aria-hidden="true" tabindex="-1"></a>  start_date <span class="dt">DATE</span>,</span>
<span id="cb1-23"><a href="#cb1-23" aria-hidden="true" tabindex="-1"></a>  end_date <span class="dt">DATE</span>,</span>
<span id="cb1-24"><a href="#cb1-24" aria-hidden="true" tabindex="-1"></a>  <span class="kw">CONSTRAINT</span> FK_course_enrolment.course_id <span class="kw">FOREIGN</span> <span class="kw">KEY</span> (course_id) </span>
<span id="cb1-25"><a href="#cb1-25" aria-hidden="true" tabindex="-1"></a>  <span class="kw">REFERENCES</span> course(course_id) <span class="kw">ON</span> <span class="kw">UPDATE</span> <span class="kw">CASCADE</span> <span class="kw">ON</span> <span class="kw">DELETE</span> <span class="kw">RESTRICT</span>, <span class="co">-- Update updated course_ids but do not allow deletions in the parent table,</span></span>
<span id="cb1-26"><a href="#cb1-26" aria-hidden="true" tabindex="-1"></a>  <span class="kw">CONSTRAINT</span> FK_course_enrolment.student_id <span class="kw">FOREIGN</span> <span class="kw">KEY</span> (student_id) </span>
<span id="cb1-27"><a href="#cb1-27" aria-hidden="true" tabindex="-1"></a>  <span class="kw">REFERENCES</span> student(student_id) <span class="kw">ON</span> <span class="kw">UPDATE</span> <span class="kw">CASCADE</span> <span class="kw">ON</span> <span class="kw">DELETE</span> <span class="kw">RESTRICT</span> <span class="co">-- Update updated student_ids but do not allow deletions in the parent table</span></span>
<span id="cb1-28"><a href="#cb1-28" aria-hidden="true" tabindex="-1"></a>);</span>
<span id="cb1-29"><a href="#cb1-29" aria-hidden="true" tabindex="-1"></a><span class="kw">CREATE</span> <span class="kw">TABLE</span> industry_partners (</span>
<span id="cb1-30"><a href="#cb1-30" aria-hidden="true" tabindex="-1"></a>  company_id <span class="dt">INTEGER</span> <span class="kw">PRIMARY</span> <span class="kw">KEY</span> <span class="kw">GENERATED</span> <span class="kw">BY</span> <span class="kw">DEFAULT</span> <span class="kw">AS</span> IDENTITY,</span>
<span id="cb1-31"><a href="#cb1-31" aria-hidden="true" tabindex="-1"></a>  company_name <span class="dt">VARCHAR</span>(<span class="dv">50</span>),</span>
<span id="cb1-32"><a href="#cb1-32" aria-hidden="true" tabindex="-1"></a>);</span>
<span id="cb1-33"><a href="#cb1-33" aria-hidden="true" tabindex="-1"></a><span class="kw">CREATE</span> <span class="kw">TABLE</span> talks (</span>
<span id="cb1-34"><a href="#cb1-34" aria-hidden="true" tabindex="-1"></a>  talk_id <span class="dt">INTEGER</span> <span class="kw">PRIMARY</span> <span class="kw">KEY</span> <span class="kw">GENERATED</span> <span class="kw">BY</span> <span class="kw">DEFAULT</span> <span class="kw">AS</span> IDENTITY,</span>
<span id="cb1-35"><a href="#cb1-35" aria-hidden="true" tabindex="-1"></a>  subject_id <span class="dt">INTEGER</span>,</span>
<span id="cb1-36"><a href="#cb1-36" aria-hidden="true" tabindex="-1"></a>  <span class="dt">date</span> <span class="dt">DATE</span>,</span>
<span id="cb1-37"><a href="#cb1-37" aria-hidden="true" tabindex="-1"></a>  contact_person_phone <span class="dt">INTEGER</span>,</span>
<span id="cb1-38"><a href="#cb1-38" aria-hidden="true" tabindex="-1"></a>  company_id <span class="dt">INTEGER</span>,</span>
<span id="cb1-39"><a href="#cb1-39" aria-hidden="true" tabindex="-1"></a>  <span class="kw">CONSTRAINT</span> FK_talks.company_id <span class="kw">FOREIGN</span> <span class="kw">KEY</span> (company_id) </span>
<span id="cb1-40"><a href="#cb1-40" aria-hidden="true" tabindex="-1"></a>  <span class="kw">REFERENCES</span> industry_partners(company_id) <span class="kw">ON</span> <span class="kw">UPDATE</span> <span class="kw">CASCADE</span> <span class="kw">ON</span> <span class="kw">DELETE</span> <span class="kw">CASCADE</span>, <span class="co">-- Cascade updates and deletions to the parent table,</span></span>
<span id="cb1-41"><a href="#cb1-41" aria-hidden="true" tabindex="-1"></a>  <span class="kw">CONSTRAINT</span> FK_talks.subject_id <span class="kw">FOREIGN</span> <span class="kw">KEY</span> (subject_id) </span>
<span id="cb1-42"><a href="#cb1-42" aria-hidden="true" tabindex="-1"></a>  <span class="kw">REFERENCES</span> industry_partners(subject_id) <span class="kw">ON</span> <span class="kw">UPDATE</span> <span class="kw">CASCADE</span> <span class="kw">ON</span> <span class="kw">DELETE</span> <span class="kw">CASCADE</span> <span class="co">-- Cascade updates and deletions to the parent table</span></span>
<span id="cb1-43"><a href="#cb1-43" aria-hidden="true" tabindex="-1"></a>);</span>
<span id="cb1-44"><a href="#cb1-44" aria-hidden="true" tabindex="-1"></a><span class="kw">CREATE</span> <span class="kw">TABLE</span> activity (</span>
<span id="cb1-45"><a href="#cb1-45" aria-hidden="true" tabindex="-1"></a>  activity_id <span class="dt">INTEGER</span> <span class="kw">PRIMARY</span> <span class="kw">KEY</span> <span class="kw">GENERATED</span> <span class="kw">BY</span> <span class="kw">DEFAULT</span> <span class="kw">AS</span> IDENTITY,</span>
<span id="cb1-46"><a href="#cb1-46" aria-hidden="true" tabindex="-1"></a>  talk_id <span class="dt">INTEGER</span>,</span>
<span id="cb1-47"><a href="#cb1-47" aria-hidden="true" tabindex="-1"></a>  activity_name <span class="dt">VARCHAR</span>(<span class="dv">255</span>),</span>
<span id="cb1-48"><a href="#cb1-48" aria-hidden="true" tabindex="-1"></a>  <span class="kw">CONSTRAINT</span> FK_activity.talk_id <span class="kw">FOREIGN</span> <span class="kw">KEY</span> (talk_id) <span class="kw">REFERENCES</span> talks(talk_id)</span>
<span id="cb1-49"><a href="#cb1-49" aria-hidden="true" tabindex="-1"></a>);</span>
<span id="cb1-50"><a href="#cb1-50" aria-hidden="true" tabindex="-1"></a><span class="kw">CREATE</span> <span class="kw">TABLE</span> research_interest (</span>
<span id="cb1-51"><a href="#cb1-51" aria-hidden="true" tabindex="-1"></a>  research_id <span class="dt">INTEGER</span> <span class="kw">PRIMARY</span> <span class="kw">KEY</span> <span class="kw">GENERATED</span> <span class="kw">BY</span> <span class="kw">DEFAULT</span> <span class="kw">AS</span> IDENTITY,</span>
<span id="cb1-52"><a href="#cb1-52" aria-hidden="true" tabindex="-1"></a>  staff_id <span class="dt">INTEGER</span>,</span>
<span id="cb1-53"><a href="#cb1-53" aria-hidden="true" tabindex="-1"></a>  research_area <span class="dt">VARCHAR</span>(<span class="dv">50</span>),</span>
<span id="cb1-54"><a href="#cb1-54" aria-hidden="true" tabindex="-1"></a>  research_title <span class="dt">VARCHAR</span>(<span class="dv">255</span>),</span>
<span id="cb1-55"><a href="#cb1-55" aria-hidden="true" tabindex="-1"></a>  <span class="kw">CONSTRAINT</span> FK_research_interest.staff_id <span class="kw">FOREIGN</span> <span class="kw">KEY</span> (staff_id) <span class="kw">REFERENCES</span> academic_staff(staff_id)</span>
<span id="cb1-56"><a href="#cb1-56" aria-hidden="true" tabindex="-1"></a>);</span>
<span id="cb1-57"><a href="#cb1-57" aria-hidden="true" tabindex="-1"></a><span class="kw">CREATE</span> <span class="kw">TABLE</span> subject (</span>
<span id="cb1-58"><a href="#cb1-58" aria-hidden="true" tabindex="-1"></a>  subject_id <span class="dt">INTEGER</span> <span class="kw">PRIMARY</span> <span class="kw">KEY</span> <span class="kw">GENERATED</span> <span class="kw">BY</span> <span class="kw">DEFAULT</span> <span class="kw">AS</span> IDENTITY,</span>
<span id="cb1-59"><a href="#cb1-59" aria-hidden="true" tabindex="-1"></a>  subject_name <span class="dt">VARCHAR</span>(<span class="dv">50</span>),</span>
<span id="cb1-60"><a href="#cb1-60" aria-hidden="true" tabindex="-1"></a>  description TEXT,</span>
<span id="cb1-61"><a href="#cb1-61" aria-hidden="true" tabindex="-1"></a>  approval_status ENUM(<span class="ot">"Approved"</span>, <span class="ot">"Pending"</span>, <span class="ot">" Rejected"</span>) subject_type ENUM(Traditional, External) is_extra <span class="op">-</span> curricular <span class="dt">BOOLEAN</span></span>
<span id="cb1-62"><a href="#cb1-62" aria-hidden="true" tabindex="-1"></a>);</span>
<span id="cb1-63"><a href="#cb1-63" aria-hidden="true" tabindex="-1"></a><span class="kw">CREATE</span> <span class="kw">TABLE</span> unit (</span>
<span id="cb1-64"><a href="#cb1-64" aria-hidden="true" tabindex="-1"></a>  unit_id <span class="dt">INTEGER</span> <span class="kw">PRIMARY</span> <span class="kw">KEY</span> <span class="kw">GENERATED</span> <span class="kw">BY</span> <span class="kw">DEFAULT</span> <span class="kw">AS</span> IDENTITY,</span>
<span id="cb1-65"><a href="#cb1-65" aria-hidden="true" tabindex="-1"></a>  unit_title <span class="dt">VARCHAR</span>(<span class="dv">50</span>)</span>
<span id="cb1-66"><a href="#cb1-66" aria-hidden="true" tabindex="-1"></a>);</span>
<span id="cb1-67"><a href="#cb1-67" aria-hidden="true" tabindex="-1"></a><span class="kw">CREATE</span> <span class="kw">TABLE</span> unit_subject (</span>
<span id="cb1-68"><a href="#cb1-68" aria-hidden="true" tabindex="-1"></a>  unit_subject_id <span class="dt">INTEGER</span> <span class="kw">PRIMARY</span> <span class="kw">KEY</span> <span class="kw">GENERATED</span> <span class="kw">BY</span> <span class="kw">DEFAULT</span> <span class="kw">AS</span> IDENTITY,</span>
<span id="cb1-69"><a href="#cb1-69" aria-hidden="true" tabindex="-1"></a>  unit_id <span class="dt">INTEGER</span>,</span>
<span id="cb1-70"><a href="#cb1-70" aria-hidden="true" tabindex="-1"></a>  subject_id <span class="dt">INTEGER</span>,</span>
<span id="cb1-71"><a href="#cb1-71" aria-hidden="true" tabindex="-1"></a>  <span class="kw">CONSTRAINT</span> FK_unit_subject.unit_id <span class="kw">FOREIGN</span> <span class="kw">KEY</span> (unit_id) <span class="kw">REFERENCES</span> unit(unit_id),</span>
<span id="cb1-72"><a href="#cb1-72" aria-hidden="true" tabindex="-1"></a>  <span class="kw">CONSTRAINT</span> FK_unit_subject.subject_id <span class="kw">FOREIGN</span> <span class="kw">KEY</span> (subject_id) <span class="kw">REFERENCES</span> subject(subject_id)</span>
<span id="cb1-73"><a href="#cb1-73" aria-hidden="true" tabindex="-1"></a>);</span>
<span id="cb1-74"><a href="#cb1-74" aria-hidden="true" tabindex="-1"></a><span class="kw">CREATE</span> <span class="kw">TABLE</span> <span class="kw">session</span> (</span>
<span id="cb1-75"><a href="#cb1-75" aria-hidden="true" tabindex="-1"></a>  session_id <span class="dt">INTEGER</span> <span class="kw">PRIMARY</span> <span class="kw">KEY</span> <span class="kw">GENERATED</span> <span class="kw">BY</span> <span class="kw">DEFAULT</span> <span class="kw">AS</span> IDENTITY,</span>
<span id="cb1-76"><a href="#cb1-76" aria-hidden="true" tabindex="-1"></a>  unit_subject_id <span class="dt">INTEGER</span>,</span>
<span id="cb1-77"><a href="#cb1-77" aria-hidden="true" tabindex="-1"></a>  <span class="dt">date</span> <span class="dt">DATE</span>,</span>
<span id="cb1-78"><a href="#cb1-78" aria-hidden="true" tabindex="-1"></a>  session_type ENUM(<span class="ot">"Lecture"</span>, <span class="ot">"Seminar"</span>, <span class="ot">"Lab"</span>),</span>
<span id="cb1-79"><a href="#cb1-79" aria-hidden="true" tabindex="-1"></a>  <span class="kw">CONSTRAINT</span> FK_session.unit_subject_id <span class="kw">FOREIGN</span> <span class="kw">KEY</span> (unit_subject_id) <span class="kw">REFERENCES</span> unit_subject(unit_subject_id)</span>
<span id="cb1-80"><a href="#cb1-80" aria-hidden="true" tabindex="-1"></a>);</span>
<span id="cb1-81"><a href="#cb1-81" aria-hidden="true" tabindex="-1"></a><span class="kw">CREATE</span> <span class="kw">TABLE</span> office (</span>
<span id="cb1-82"><a href="#cb1-82" aria-hidden="true" tabindex="-1"></a>  office_id <span class="dt">INTEGER</span> <span class="kw">PRIMARY</span> <span class="kw">KEY</span> <span class="kw">GENERATED</span> <span class="kw">BY</span> <span class="kw">DEFAULT</span> <span class="kw">AS</span> IDENTITY,</span>
<span id="cb1-83"><a href="#cb1-83" aria-hidden="true" tabindex="-1"></a>  office_name <span class="dt">VARCHAR</span>(<span class="dv">255</span>),</span>
<span id="cb1-84"><a href="#cb1-84" aria-hidden="true" tabindex="-1"></a>  location <span class="dt">VARCHAR</span>(<span class="dv">255</span>),</span>
<span id="cb1-85"><a href="#cb1-85" aria-hidden="true" tabindex="-1"></a>  capacity <span class="dt">NUMERIC</span></span>
<span id="cb1-86"><a href="#cb1-86" aria-hidden="true" tabindex="-1"></a>);</span>
<span id="cb1-87"><a href="#cb1-87" aria-hidden="true" tabindex="-1"></a><span class="kw">CREATE</span> <span class="kw">TABLE</span> academic_staff (</span>
<span id="cb1-88"><a href="#cb1-88" aria-hidden="true" tabindex="-1"></a>  staff_id <span class="dt">INTEGER</span> <span class="kw">PRIMARY</span> <span class="kw">KEY</span> <span class="kw">GENERATED</span> <span class="kw">BY</span> <span class="kw">DEFAULT</span> <span class="kw">AS</span> IDENTITY,</span>
<span id="cb1-89"><a href="#cb1-89" aria-hidden="true" tabindex="-1"></a>  first_name <span class="dt">VARCHAR</span>(<span class="dv">255</span>),</span>
<span id="cb1-90"><a href="#cb1-90" aria-hidden="true" tabindex="-1"></a>  last_name <span class="dt">VARCHAR</span>(<span class="dv">255</span>),</span>
<span id="cb1-91"><a href="#cb1-91" aria-hidden="true" tabindex="-1"></a>  <span class="kw">category</span> ENUM(<span class="ot">"lecturers"</span>, <span class="ot">"demonstrators"</span>),</span>
<span id="cb1-92"><a href="#cb1-92" aria-hidden="true" tabindex="-1"></a>  line_manager_id <span class="dt">INTEGER</span>,</span>
<span id="cb1-93"><a href="#cb1-93" aria-hidden="true" tabindex="-1"></a>  <span class="kw">CONSTRAINT</span> FK_academic_staff.staff_id <span class="kw">FOREIGN</span> <span class="kw">KEY</span> (line_manager_id) <span class="kw">REFERENCES</span> academic_staff(staff_id)</span>
<span id="cb1-94"><a href="#cb1-94" aria-hidden="true" tabindex="-1"></a>);</span>
<span id="cb1-95"><a href="#cb1-95" aria-hidden="true" tabindex="-1"></a><span class="kw">CREATE</span> <span class="kw">TABLE</span> attendance (</span>
<span id="cb1-96"><a href="#cb1-96" aria-hidden="true" tabindex="-1"></a>  attendance_id <span class="dt">INTEGER</span> <span class="kw">PRIMARY</span> <span class="kw">KEY</span> <span class="kw">GENERATED</span> <span class="kw">BY</span> <span class="kw">DEFAULT</span> <span class="kw">AS</span> IDENTITY,</span>
<span id="cb1-97"><a href="#cb1-97" aria-hidden="true" tabindex="-1"></a>  student_id <span class="dt">INTEGER</span>,</span>
<span id="cb1-98"><a href="#cb1-98" aria-hidden="true" tabindex="-1"></a>  session_id <span class="dt">INTEGER</span>,</span>
<span id="cb1-99"><a href="#cb1-99" aria-hidden="true" tabindex="-1"></a>  <span class="dt">date</span> <span class="dt">DATE</span>,</span>
<span id="cb1-100"><a href="#cb1-100" aria-hidden="true" tabindex="-1"></a>  attendance_status ENUM(<span class="ot">"Present"</span>, <span class="ot">"Absent"</span>, <span class="ot">"Excused"</span>),</span>
<span id="cb1-101"><a href="#cb1-101" aria-hidden="true" tabindex="-1"></a>  <span class="kw">CONSTRAINT</span> FK_attendance.session_id <span class="kw">FOREIGN</span> <span class="kw">KEY</span> (session_id) <span class="kw">REFERENCES</span> <span class="kw">session</span>(session_id),</span>
<span id="cb1-102"><a href="#cb1-102" aria-hidden="true" tabindex="-1"></a>  <span class="kw">CONSTRAINT</span> FK_attendance.student_id <span class="kw">FOREIGN</span> <span class="kw">KEY</span> (student_id) <span class="kw">REFERENCES</span> student(student_id)</span>
<span id="cb1-103"><a href="#cb1-103" aria-hidden="true" tabindex="-1"></a>);</span>
<span id="cb1-104"><a href="#cb1-104" aria-hidden="true" tabindex="-1"></a><span class="kw">CREATE</span> <span class="kw">TABLE</span> office_allocation (</span>
<span id="cb1-105"><a href="#cb1-105" aria-hidden="true" tabindex="-1"></a>  staff_id <span class="dt">INTEGER</span> <span class="kw">PRIMARY</span> <span class="kw">KEY</span> <span class="kw">GENERATED</span> <span class="kw">BY</span> <span class="kw">DEFAULT</span> <span class="kw">AS</span> IDENTITY,</span>
<span id="cb1-106"><a href="#cb1-106" aria-hidden="true" tabindex="-1"></a>  office_id <span class="dt">INTEGER</span>,</span>
<span id="cb1-107"><a href="#cb1-107" aria-hidden="true" tabindex="-1"></a>  start_date <span class="dt">DATE</span>,</span>
<span id="cb1-108"><a href="#cb1-108" aria-hidden="true" tabindex="-1"></a>  end_date <span class="dt">DATE</span>,</span>
<span id="cb1-109"><a href="#cb1-109" aria-hidden="true" tabindex="-1"></a>  <span class="kw">CONSTRAINT</span> FK_office_allocation.staff_id <span class="kw">FOREIGN</span> <span class="kw">KEY</span> (staff_id) <span class="kw">REFERENCES</span> academic_staff(staff_id),</span>
<span id="cb1-110"><a href="#cb1-110" aria-hidden="true" tabindex="-1"></a>  <span class="kw">CONSTRAINT</span> FK_office_allocation.office_id <span class="kw">FOREIGN</span> <span class="kw">KEY</span> (office_id) <span class="kw">REFERENCES</span> office(office_id)</span>
<span id="cb1-111"><a href="#cb1-111" aria-hidden="true" tabindex="-1"></a>);</span>
<span id="cb1-112"><a href="#cb1-112" aria-hidden="true" tabindex="-1"></a><span class="kw">CREATE</span> <span class="kw">TABLE</span> industry_partners_subject (</span>
<span id="cb1-113"><a href="#cb1-113" aria-hidden="true" tabindex="-1"></a>  company_id <span class="dt">INTEGER</span> <span class="kw">PRIMARY</span> <span class="kw">KEY</span> <span class="kw">GENERATED</span> <span class="kw">BY</span> <span class="kw">DEFAULT</span> <span class="kw">AS</span> IDENTITY,</span>
<span id="cb1-114"><a href="#cb1-114" aria-hidden="true" tabindex="-1"></a>  subject_id <span class="dt">INTEGER</span>,</span>
<span id="cb1-115"><a href="#cb1-115" aria-hidden="true" tabindex="-1"></a>  description TEXT,</span>
<span id="cb1-116"><a href="#cb1-116" aria-hidden="true" tabindex="-1"></a>  date_of_proposal <span class="dt">DATE</span>,</span>
<span id="cb1-117"><a href="#cb1-117" aria-hidden="true" tabindex="-1"></a>  <span class="kw">CONSTRAINT</span> FK_industry_partners_subject.subject_id <span class="kw">FOREIGN</span> <span class="kw">KEY</span> (subject_id) <span class="kw">REFERENCES</span> subject(subject_id),</span>
<span id="cb1-118"><a href="#cb1-118" aria-hidden="true" tabindex="-1"></a>  <span class="kw">CONSTRAINT</span> FK_industry_partners_subject.company_id <span class="kw">FOREIGN</span> <span class="kw">KEY</span> (company_id) <span class="kw">REFERENCES</span> industry_partners(company_id)</span>
<span id="cb1-119"><a href="#cb1-119" aria-hidden="true" tabindex="-1"></a>);</span>
<span id="cb1-120"><a href="#cb1-120" aria-hidden="true" tabindex="-1"></a><span class="kw">CREATE</span> <span class="kw">TABLE</span> staff_unit_assignments (</span>
<span id="cb1-121"><a href="#cb1-121" aria-hidden="true" tabindex="-1"></a>  staff_id <span class="dt">INTEGER</span>,</span>
<span id="cb1-122"><a href="#cb1-122" aria-hidden="true" tabindex="-1"></a>  unit_id <span class="dt">INTEGER</span>,</span>
<span id="cb1-123"><a href="#cb1-123" aria-hidden="true" tabindex="-1"></a>  <span class="kw">role</span> ENUM(<span class="ot">"unit coordinator"</span>, <span class="ot">"lecturer"</span>,<span class="ot">"assistant"</span>),</span>
<span id="cb1-124"><a href="#cb1-124" aria-hidden="true" tabindex="-1"></a>  start_date <span class="dt">DATE</span>,</span>
<span id="cb1-125"><a href="#cb1-125" aria-hidden="true" tabindex="-1"></a>  end_date <span class="dt">DATE</span>,</span>
<span id="cb1-126"><a href="#cb1-126" aria-hidden="true" tabindex="-1"></a>  <span class="kw">CONSTRAINT</span> FK_staff_unit_assignments.unit_id <span class="kw">FOREIGN</span> <span class="kw">KEY</span> (unit_id) <span class="kw">REFERENCES</span> unit(unit_id),</span>
<span id="cb1-127"><a href="#cb1-127" aria-hidden="true" tabindex="-1"></a>  <span class="kw">CONSTRAINT</span> FK_staff_unit_assignments.staff_id <span class="kw">FOREIGN</span> <span class="kw">KEY</span> (staff_id) <span class="kw">REFERENCES</span> academic_staff(staff_id)</span>
<span id="cb1-128"><a href="#cb1-128" aria-hidden="true" tabindex="-1"></a>);</span>
<span id="cb1-129"><a href="#cb1-129" aria-hidden="true" tabindex="-1"></a><span class="kw">CREATE</span> <span class="kw">TABLE</span> extra<span class="op">-</span>curricular_events (</span>
<span id="cb1-130"><a href="#cb1-130" aria-hidden="true" tabindex="-1"></a>  event_id <span class="dt">INTEGER</span> <span class="kw">PRIMARY</span> <span class="kw">KEY</span> <span class="kw">GENERATED</span> <span class="kw">BY</span> <span class="kw">DEFAULT</span> <span class="kw">AS</span> IDENTITY,</span>
<span id="cb1-131"><a href="#cb1-131" aria-hidden="true" tabindex="-1"></a>,</span>
<span id="cb1-132"><a href="#cb1-132" aria-hidden="true" tabindex="-1"></a>  session_id <span class="dt">INTEGER</span>,</span>
<span id="cb1-133"><a href="#cb1-133" aria-hidden="true" tabindex="-1"></a>  <span class="dt">date</span> <span class="dt">DATE</span>,</span>
<span id="cb1-134"><a href="#cb1-134" aria-hidden="true" tabindex="-1"></a>  external_speaker <span class="dt">VARCHAR</span>(<span class="dv">255</span>),</span>
<span id="cb1-135"><a href="#cb1-135" aria-hidden="true" tabindex="-1"></a>  <span class="kw">CONSTRAINT</span> FK_extra<span class="op">-</span>curricular_events.session_id <span class="kw">FOREIGN</span> <span class="kw">KEY</span> (session_id) <span class="kw">REFERENCES</span> <span class="kw">session</span>(session_id)</span>
<span id="cb1-136"><a href="#cb1-136" aria-hidden="true" tabindex="-1"></a>);</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="conclusion" class="level2">
<h2 class="anchored" data-anchor-id="conclusion">Conclusion</h2>
<p>In summary, this project is a sophisticated and comprehensive approach to database design, incorporating various concepts for accuracy, flexibility, and efficiency. The use of ENUM constraints, foreign key relationships, and validation rules ensures consistent data across tables. Bridge tables resolve many-to-many relationships, enabling dynamic tracking, historical analysis, and scalability. Handling potential acyclic relationships, cascading actions, and periodic audits enhances data model integrity, creating a strong foundation for analytical insights. The project meets immediate requirements and establishes a groundwork for future adaptability, reflecting a nuanced understanding of Aqua Vista College’s operational intricacies. This solution ensures the database meets current needs and remains resilient to changing educational and analytical demands.</p>
<p><a href="https://joshuaolubori.onrender.com/posts/2024-01-20_Aqua-Vista/#task-introduction">Back to top</a></p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<script src="https://giscus.app/client.js" data-repo="JoshuaOlubori/qblog" data-repo-id="R_kgDOKvhXew" data-category="General" data-category-id="DIC_kwDOKvhXe84CbFeH" data-mapping="title" data-reactions-enabled="1" data-emit-metadata="0" data-input-position="top" data-theme="light" data-lang="en" crossorigin="anonymous" async="">
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">Blog made with 💚 and <a href="https://quarto.org/">Quarto</a>, by Edun Joshua. License: <a href="https://creativecommons.org/licenses/by-sa/2.0/">CC BY-SA 2.0</a>.</div>   
    <div class="nav-footer-center">
      &nbsp;
    </div>
    <div class="nav-footer-right">
      &nbsp;
    </div>
  </div>
</footer>



</body></html>